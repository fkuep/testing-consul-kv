<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="557.2917px" preserveAspectRatio="none" style="width:508px;height:557px;background:#00000000;" version="1.1" viewBox="0 0 508 557" width="508.3333px" zoomAndPan="magnify"><defs><linearGradient id="g1q9j2m7ewp2uu0" x1="50%" x2="50%" y1="0%" y2="100%"><stop offset="0%" stop-color="#7C9AB9"/><stop offset="100%" stop-color="#304D6D"/></linearGradient></defs><g><rect fill="url(#g1q9j2m7ewp2uu0)" height="544.1488" rx="13.0208" ry="13.0208" style="stroke:#304D6D;stroke-width:1.5625;" width="493.75" x="7.2917" y="7.2917"/><rect height="446.875" rx="13.0208" ry="13.0208" style="stroke:#00000000;stroke-width:1.0416666666666667;fill:none;" width="487.5" x="10.4167" y="101.4404"/><line style="stroke:#304D6D;stroke-width:1.5625;fill:none;" x1="7.2917" x2="501.0417" y1="98.3154" y2="98.3154"/><line style="stroke:#304D6D;stroke-width:1.5625;fill:none;" x1="7.2917" x2="501.0417" y1="42.6758" y2="42.6758"/><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="154.1667" x="177.0833" y="29.3111">config_free_parameters</text><text fill="#FFFFFF" font-family="Verdana" font-size="11.4583" font-weight="bold" lengthAdjust="spacing" textLength="76.0417" x="17.7083" y="58.52">parameters</text><text fill="#FFFFFF" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="281.25" x="97.9167" y="58.52">datacenter, index, port, recurse,scheme, token</text><text fill="#FFFFFF" font-family="Verdana" font-size="11.4583" font-weight="bold" lengthAdjust="spacing" textLength="108.3333" x="17.7083" y="71.8582">having defaults:</text><text fill="#FFFFFF" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="133.3333" x="130.2083" y="71.8582">port, recurse, scheme</text><text fill="#FFFFFF" font-family="Verdana" font-size="11.4583" font-weight="bold" lengthAdjust="spacing" textLength="101.0417" x="17.7083" y="85.1964">being optional:</text><text fill="#FFFFFF" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="143.75" x="122.9167" y="85.1964">datacenter, index, token</text><g id="config_free_parameters.is_set"><rect fill="url(#g1q9j2m7ewp2uu0)" height="82.8939" rx="13.0208" ry="13.0208" style="stroke:#304D6D;stroke-width:1.5625;" width="256.25" x="209.375" y="373.3154"/><line style="stroke:#304D6D;stroke-width:1.5625;" x1="209.375" x2="465.625" y1="408.6995" y2="408.6995"/><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="37.5" x="318.75" y="395.3349">is_set</text><text fill="#FFFFFF" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="225" x="219.7917" y="429.7521">lookup('consul_kv' .. token=MYTOKEN)</text><text fill="#FFFFFF" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="19.7917" x="219.7917" y="443.0903">call</text></g><g id="config_free_parameters.has_default"><rect fill="url(#g1q9j2m7ewp2uu0)" height="82.8939" rx="13.0208" ry="13.0208" style="stroke:#304D6D;stroke-width:1.5625;" width="172.9167" x="19.7917" y="271.2321"/><line style="stroke:#304D6D;stroke-width:1.5625;" x1="19.7917" x2="192.7083" y1="306.6162" y2="306.6162"/><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="76.0417" x="68.2292" y="293.2515">has_default</text><text fill="#FFFFFF" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="122.9167" x="30.2083" y="327.6688">lookup('consul_kv' --)</text><text fill="#FFFFFF" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="141.6667" x="30.2083" y="341.007">overrides varaible if set</text></g><g id="config_free_parameters.is_optional"><rect fill="url(#g1q9j2m7ewp2uu0)" height="82.8939" rx="13.0208" ry="13.0208" style="stroke:#304D6D;stroke-width:1.5625;" width="244.7917" x="201.5625" y="169.1488"/><line style="stroke:#304D6D;stroke-width:1.5625;" x1="201.5625" x2="446.3542" y1="204.5329" y2="204.5329"/><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="69.7917" x="289.0625" y="191.1682">is_optional</text><text fill="#FFFFFF" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="120.8333" x="211.9792" y="225.5854">loopup('consul_kv ..)</text><text fill="#FFFFFF" font-family="Verdana" font-size="11.4583" lengthAdjust="spacing" textLength="213.5417" x="211.9792" y="238.9236">highest precedence all othe ignored</text></g><ellipse cx="170.8333" cy="120.1904" fill="#3399F3" rx="10.4167" ry="10.4167" style="stroke:none;stroke-width:1.0416666666666667;"/><ellipse cx="172.9167" cy="530.6071" fill="none" rx="10.4167" ry="10.4167" style="stroke:#3399F3;stroke-width:1.0416666666666667;"/><ellipse cx="173.4375" cy="531.1279" fill="#3399F3" rx="6.25" ry="6.25" style="stroke:none;stroke-width:1.0416666666666667;"/><!--MD5=[24928d8b0c3a4ee278f7d15cc5187386]
link *start*config_free_parameters to has_default--><path d="M167.452,130.2799 C159.13,155.1117 137.2282,220.4637 122.0194,265.845 " fill="none" id="*start*config_free_parameters-to-has_default" style="stroke:#446E9B;stroke-width:3.125;"/><polygon fill="#446E9B" points="120.2919,270.9995,127.2217,263.4345,121.9469,266.0611,119.3203,260.7864,120.2919,270.9995" style="stroke:#446E9B;stroke-width:3.125;"/><!--MD5=[e3c2931df62b66b0efb67f77b67b08e8]
link *start*config_free_parameters to is_optional--><path d="M179.9534,125.588 C193.7695,133.7649 221.2999,150.0583 248.622,166.2287 " fill="none" id="*start*config_free_parameters-to-is_optional" style="stroke:#446E9B;stroke-width:3.125;"/><polygon fill="#446E9B" points="253.3591,169.0322,247.4133,160.6716,248.8769,166.3795,243.169,167.8431,253.3591,169.0322" style="stroke:#446E9B;stroke-width:3.125;"/><!--MD5=[5453366f217a268eb686eec841e19809]
link is_optional to is_set--><path d="M326.7314,252.6243 C328.9496,286.0675 332.0596,332.9571 334.3674,367.7525 " fill="none" id="is_optional-to-is_set" style="stroke:#446E9B;stroke-width:3.125;"/><polygon fill="#446E9B" points="334.7306,373.2292,338.2675,363.5989,334.3858,368.0323,329.9525,364.1506,334.7306,373.2292" style="stroke:#446E9B;stroke-width:3.125;"/><!--MD5=[07778b9f017721eec42822dc053b63f3]
link is_set to *end*config_free_parameters--><path d="M209.3652,452.4687 C192.8004,459.6597 179.6133,467.4422 173.9583,475.3988 C165.771,486.9182 166.6679,503.4787 168.9015,515.4541 " fill="none" id="is_set-to-*end*config_free_parameters" style="stroke:#446E9B;stroke-width:3.125;"/><polygon fill="#446E9B" points="169.994,520.5991,172.1224,510.5631,168.9121,515.5043,163.9709,512.294,169.994,520.5991" style="stroke:#446E9B;stroke-width:3.125;"/><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="128.125" x="180.2083" y="493.2515">yes: call with param</text><!--MD5=[07778b9f017721eec42822dc053b63f3]
link is_set to *end*config_free_parameters--><path d="M335.5971,456.708 C332.7525,472.7307 326.7697,489.9188 314.5833,501.4404 C296.5583,518.4823 221.9769,526.5918 188.8708,529.4057 " fill="none" id="is_set-to-*end*config_free_parameters-1" style="stroke:#446E9B;stroke-width:3.125;"/><polygon fill="#446E9B" points="183.5605,529.8417,193.245,533.2272,188.7514,529.4155,192.5631,524.9219,183.5605,529.8417" style="stroke:#446E9B;stroke-width:3.125;"/><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="144.7917" x="335.4167" y="493.2515">no: call without param</text><!--MD5=[ef57b9a073afb44278885309ac5974f6]
link has_default to *end*config_free_parameters--><path d="M90.2953,354.6179 C81.544,384.2981 75.1104,424.4533 89.5833,456.6488 C103.8407,488.3648 139.1663,512.0069 158.9411,523.2752 " fill="none" id="has_default-to-*end*config_free_parameters" style="stroke:#446E9B;stroke-width:3.125;"/><polygon fill="#446E9B" points="163.6114,525.8708,157.4411,517.6746,159.0589,523.3407,153.3928,524.9585,163.6114,525.8708" style="stroke:#446E9B;stroke-width:3.125;"/><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="97.9167" x="95.8333" y="419.814">call with param</text><!--MD5=[96e0ad8e7adc19a457b341cebe32b83d]
@startuml
!include https://raw.githubusercontent.com/bschwarz/puml-themes/master/themes/spacelab/puml-theme-spacelab.puml
hide empty description
state config_free_parameters  {
config_free_parameters: **parameters** datacenter, index, port, recurse,scheme, token
config_free_parameters: **having defaults:** port, recurse, scheme 
config_free_parameters: **being optional:** datacenter, index, token
 

is_set : lookup('consul_kv' .. token=MYTOKEN)
is_set : call

has_default: lookup('consul_kv' - -)
has_default: overrides varaible if set

is_optional: loopup('consul_kv ..)
is_optional: highest precedence all othe ignored

[*]- -> has_default
[*] - -> is_optional

is_optional - -> is_set
is_set- -> [*] : yes: call with param
is_set- -> [*] : no: call without param

has_default- ->[*] : call with param

}
@enduml

@startuml



skinparam backgroundColor transparent
skinparam useBetaStyle false







skinparam defaultFontName       "Verdana"
skinparam defaultFontSize       12
skinparam dpi                   100
skinparam shadowing             false
skinparam roundcorner           8
skinparam ParticipantPadding    40
skinparam BoxPadding            40
skinparam Padding               5
skinparam ArrowColor            #333333
skinparam stereotype {
    CBackgroundColor #b8b8b8
    CBorderColor #6b6b6b
    ABackgroundColor #4cbc5c
    ABorderColor #32a243
    IBackgroundColor #dc4e4d
    IBorderColor #900100
    EBackgroundColor #e19e4d
    EBorderColor #945200
    NBackgroundColor #70b8f7
    NBorderColor #246baa
}
skinparam title {
	FontColor	                 #304d6d
	BorderColor	                 #6b6b6b
	FontSize	    	         20
	BorderRoundCorner            8
	BorderThickness 	         1
	BackgroundColor              #b8b8b8-#999999
}

skinparam legend {
	BackgroundColor #999999
	BorderColor #6b6b6b
	FontColor #eeeeee
}

skinparam swimlane {
	BorderColor #3399f3
	BorderThickness 2
	TitleBackgroundColor  #b8b8b8-#999999
	TitleFontColor #304d6d
}


skinparam activity {
		FontColor #ffffff
	BorderColor #304d6d
	BackgroundColor #7c9ab9-#304d6d
	BarColor #3cb521
	StartColor #3399f3
	EndColor #3399f3
	DiamondBackgroundColor #b8b8b8-#6b6b6b
  	DiamondBorderColor #6b6b6b
  	DiamondFontColor #ffffff
}


skinparam participant {
		FontColor #ffffff
	BorderColor #304d6d
	BackgroundColor #7c9ab9-#304d6d
	ParticipantBorderThickness 2
}


skinparam actor {
		FontColor #ffffff
	BorderColor #304d6d
	BackgroundColor #7c9ab9-#304d6d
}


skinparam arrow {
	Thickness 3
	Color #446e9b
	FontColor #ffffff
}


skinparam sequence {
	BorderColor #446e9b
	TitleFontColor #446e9b
	BackgroundColor transparent
	StartColor #446e9b
	EndColor #446e9b
	BoxBackgroundColor transparent
	BoxBorderColor #333333
	BoxFontColor $DARk
	LifeLineBorderColor #999999
	LifeLineBorderThickness 2
	LifeLineBackgroundColor #6b6b6b-#6b6b6b
	GroupBorderColor #333333
	GroupFontColor #333333
	GroupHeaderFontColor #3399f3
	GroupBackgroundColor #6b6b6b-#6b6b6b
	GroupHeaderBackgroundColor transparent
	DividerBackgroundColor #707070-#242424
    DividerBorderColor #333333
    DividerBorderThickness 2
    DividerFontColor #eeeeee
	ReferenceBackgroundColor transparent
	ReferenceBorderColor #333333
	ReferenceFontColor #333333
	ReferenceHeaderFontColor #3399f3
	ReferenceHeaderBackgroundColor #6b6b6b-#6b6b6b
}


skinparam partition {
	BorderColor #446e9b
	FontColor #446e9b
	BackgroundColor transparent
}


skinparam collections {
		FontColor #ffffff
	BorderColor #304d6d
	BackgroundColor #7c9ab9-#304d6d
}


skinparam control {
		FontColor #ffffff
	BorderColor #304d6d
	BackgroundColor #7c9ab9-#304d6d
}


skinparam entity {
		FontColor #ffffff
	BorderColor #304d6d
	BackgroundColor #7c9ab9-#304d6d
}


skinparam boundary {
		FontColor #ffffff
	BorderColor #304d6d
	BackgroundColor #7c9ab9-#304d6d
}


skinparam agent {
	BackgroundColor #d47500
	BorderColor #e19e4d
	FontColor #333333
}


skinparam note {
	BorderThickness 1
	BackgroundColor #70b8f7-#246baa
	BorderColor #246baa
	FontColor #ffffff
}


skinparam artifact {
	BackgroundColor #333333
	BorderColor #242424
	FontColor #eeeeee
}


skinparam component {
		FontColor #ffffff
	BorderColor #304d6d
	BackgroundColor #7c9ab9-#304d6d
}


skinparam interface {
	BackgroundColor  #900100
	BorderColor  #cd0200
	FontColor #333333
}


skinparam storage {
	BackgroundColor #d47500
  	BorderColor #945200
	FontColor #ffffff
}


skinparam node {
	BackgroundColor  #999999
	BorderColor #eeeeee
	FontColor #eeeeee
}


skinparam cloud {
	BackgroundColor #F2FCFE-#eeeeee
	BorderColor #F2FCFE
	FontColor #333333
}


skinparam database {
		FontColor #ffffff
	BorderColor #304d6d
	BackgroundColor #7c9ab9-#304d6d
}


skinparam class {
		FontColor #ffffff
	BorderColor #304d6d
	BackgroundColor #7c9ab9-#304d6d
	FontColor #ffffff
	HeaderBackgroundColor #7c9ab9-#446e9b
	StereotypeFontColor #eeeeee
	BorderThickness 1
	AttributeFontColor #eeeeee
	AttributeFontSize 11
}


skinparam object {
		FontColor #ffffff
	BorderColor #304d6d
	BackgroundColor #7c9ab9-#304d6d
	StereotypeFontColor #333333
	BorderThickness 1
	AttributeFontColor #ffffff
	AttributeFontSize 11
}


skinparam usecase {
		FontColor #ffffff
	BorderColor #304d6d
	BackgroundColor #7c9ab9-#304d6d
	BorderThickness 2
	StereotypeFontColor #446e9b
}


skinparam rectangle {
		FontColor #ffffff
	BorderColor #304d6d
	BackgroundColor #7c9ab9-#304d6d
	BackgroundColor #b8b8b8-#6b6b6b
	BorderThickness 2
	StereotypeFontColor #446e9b
}


skinparam package {
	BackgroundColor #b8b8b8-#6b6b6b
  	BorderColor #446e9b
	FontColor #446e9b
	BorderThickness 2
}


skinparam folder {
	BackgroundColor #b8b8b8-#6b6b6b
  	BorderColor #d47500
	FontColor #d47500
	BorderThickness 2
}


skinparam frame {
	BackgroundColor #b8b8b8-#6b6b6b
  	BorderColor #3399f3
	FontColor #3399f3
	BorderThickness 2
}


skinparam state {
		FontColor #ffffff
	BorderColor #304d6d
	BackgroundColor #7c9ab9-#304d6d
	StartColor #3399f3
	EndColor #3399f3
	AttributeFontColor #ffffff
	AttributeFontSize 11
}


skinparam queue {
		FontColor #ffffff
	BorderColor #304d6d
	BackgroundColor #7c9ab9-#304d6d
}


skinparam card {
	BackgroundColor #70b8f7-#246baa
	BorderColor #246baa
	FontColor #ffffff
}


skinparam file {
	BackgroundColor #6b6b6b-#6b6b6b
	BorderColor #eeeeee
	FontColor #eeeeee
}


hide empty description
state config_free_parameters  {
config_free_parameters: **parameters** datacenter, index, port, recurse,scheme, token
config_free_parameters: **having defaults:** port, recurse, scheme 
config_free_parameters: **being optional:** datacenter, index, token
 

is_set : lookup('consul_kv' .. token=MYTOKEN)
is_set : call

has_default: lookup('consul_kv' - -)
has_default: overrides varaible if set

is_optional: loopup('consul_kv ..)
is_optional: highest precedence all othe ignored

[*]- -> has_default
[*] - -> is_optional

is_optional - -> is_set
is_set- -> [*] : yes: call with param
is_set- -> [*] : no: call without param

has_default- ->[*] : call with param

}
@enduml

PlantUML version 1.2021.01(Tue Feb 02 07:55:08 UTC 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>